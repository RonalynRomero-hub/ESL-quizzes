<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tom's School Adventure Quiz</title>
<style>
body {
    margin: 0;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background: linear-gradient(135deg, #7ab4ff, #040405);
    color: #fff;
    overflow-x: hidden;
}
.container {
    max-width: 700px;
    margin: 20px auto;
    padding: 20px;
    text-align: center;
    background: rgba(0,0,0,0.7);
    border-radius: 20px;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
    position: relative;
    z-index: 1;
}
h1, h2 {
    color: #f5e349;
    text-shadow: 1px 1px #000;
}
p { font-size: 18px; line-height: 1.5; }
button {
    background: #f5e349;
    border: none;
    padding: 10px 16px;
    margin: 5px;
    font-size: 16px;
    font-weight: bold;
    border-radius: 12px;
    cursor: pointer;
    color: #040405;
    transition: transform 0.2s;
}
button:hover { transform: scale(1.05); }
button:disabled { cursor: default; opacity: 0.7; }
.explanation { margin-top: 5px; font-style: italic; color: #ffcc00; min-height: 20px; }
.score { font-size: 24px; margin: 20px 0; font-weight: bold; color: #00ff00; text-shadow: 1px 1px #000; }
.confetti, .icon-container {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
}
.confetti-piece {
    position: absolute; width: 10px; height: 10px;
    background-color: #fff;
    animation: scatter 3s linear infinite;
}
.icon {
    position: absolute;
    font-size: 24px;
    opacity: 0.7;
    animation: float linear infinite;
}
@keyframes scatter {
    0% { transform: translate(0,0) rotate(0deg);}
    25% { transform: translate(50px, 50px) rotate(90deg);}
    50% { transform: translate(-50px, 100px) rotate(180deg);}
    75% { transform: translate(50px, 150px) rotate(270deg);}
    100% { transform: translate(0, 200px) rotate(360deg);}
}
@keyframes float {
    0% { transform: translateY(0);}
    50% { transform: translateY(20px);}
    100% { transform: translateY(0);}
}
</style>
</head>
<body>

<div class="container">
<h1>Tom's School Adventure Quiz</h1>
<p>Tom is a new student at school. He smiles warmly and greets his classmates, introducing himself and asking how they are. Everyone responds kindly, which makes him feel welcome and happy. As he walks to his seat, he notices a few students waving at him and offering to help him with his things. He feels a sense of relief knowing that making friends here might be easier than he expected. By the end of the morning, Tom is already looking forward to joining class activities and meeting more of his classmates.</p>

<div id="quiz"></div>
<div id="score" class="score hidden"></div>
</div>

<div class="confetti" id="confetti"></div>
<div class="icon-container" id="icons"></div>

<script>
// Questions grouped by activity
const activities = [
    {
        title: "Multiple Choice",
        questions: [
            {question:'Who is Tom?', options:['A new student','His teacher','His friend'], answer:0, explanation:'Tom is a new student in school.'},
            {question:'What does Tom do?', options:['Greets his classmates','Runs away','Sleeps in class'], answer:0, explanation:'He greets his classmates warmly.'},
            {question:'Why does Tom feel happy?', options:['Because everyone is kind','Because he is alone','Because school is closed'], answer:0, explanation:'Everyone responds kindly to him.'},
            {question:'What does he notice?', options:['Some students offering to help him','No one notices him','Teachers ignoring him'], answer:0, explanation:'He notices some students offering help.'},
            {question:'What does he think about making friends?', options:['It might be easier than expected','It will be impossible','He doesn\'t care'], answer:0, explanation:'He thinks making friends might be easier than expected.'},
            {question:'How does he feel about making friends in class?', options:['Relieved','Angry','Sad'], answer:0, explanation:'He feels relieved about making friends.'},
            {question:'What does Tom look forward to?', options:['Joining class activities and meeting more classmates','Going home','Eating lunch alone'], answer:0, explanation:'He looks forward to joining class activities and meeting more classmates.'}
        ]
    },
    {
        title: "Fill in the Blanks",
        questions: [
            {question:'___ to meet you!', options:['Nice','Hello','Good'], answer:0, explanation:'The correct phrase is "Nice to meet you!"'},
            {question:'Everyone ___ friendly at school.', options:['are','is','was'], answer:0, explanation:'Everyone "are" friendly.'},
            {question:'How ___ you doing today?', options:['are','is','do'], answer:0, explanation:'The correct form is "How are you doing today?"'},
            {question:'Hello, my ___ is Tom.', options:['name','friend','teacher'], answer:0, explanation:'The correct answer is "name".'},
            {question:'I am looking ___ seeing you tomorrow!', options:['forward','backward','around'], answer:0, explanation:'The correct phrase is "looking forward to seeing you".'}
        ]
    },
    {
        title: "Vocabulary",
        questions: [
            {question:'greet', options:['say hello','ignore','run away'], answer:0, explanation:'To "greet" means to say hello.'},
            {question:'kind', options:['friendly','mean','angry'], answer:0, explanation:'Kind means friendly.'},
            {question:'notice', options:['see or observe','ignore','hide'], answer:0, explanation:'To notice something means to see or observe it.'},
            {question:'joining', options:['participating','leaving','ignoring'], answer:0, explanation:'Joining means participating.'},
            {question:'How are you doing?', options:['asking how someone is','saying goodbye','telling a story'], answer:0, explanation:'This phrase is used for asking how someone is.'},
            {question:'My name is Tom', options:['introducing yourself','asking questions','ignoring people'], answer:0, explanation:'It is used to introduce yourself.'},
            {question:'I am 12 years old', options:['telling your age','telling your name','asking someone their age'], answer:0, explanation:'It tells your age.'},
            {question:'I live in Sydney', options:['telling where you live','telling your age','asking someone where they live'], answer:0, explanation:'It tells where you live.'}
        ]
    }
];

let score = 0;

// Render all activities and questions
function renderQuiz() {
    const quizDiv = document.getElementById('quiz');
    quizDiv.innerHTML = '';
    activities.forEach(activity=>{
        quizDiv.innerHTML += `<h2>${activity.title}</h2>`;
        activity.questions.forEach((q,index)=>{
            let html = `<p>${q.question}</p>`;
            q.options.forEach((opt,i)=>{
                html += `<button onclick="checkAnswer('${activity.title}',${index},${i},this)">${opt}</button>`;
            });
            html += `<p id="explanation-${activity.title}-${index}" class="explanation"></p>`;
            quizDiv.innerHTML += html;
        });
    });
}
renderQuiz();

// Check answer
function checkAnswer(activityTitle, qIndex,optIndex,btn){
    const activity = activities.find(a=>a.title===activityTitle);
    const q = activity.questions[qIndex];
    const buttons = btn.parentElement.querySelectorAll('button');
    buttons.forEach(b=>b.disabled=true);

    if(optIndex === q.answer){
        btn.style.background = '#00ff00';
        score += 10;
        updateScore();
        if(score >= totalScore()) launchConfetti();
    }else{
        btn.style.background = '#ff0000';
        document.getElementById(`explanation-${activityTitle}-${qIndex}`).innerText = q.explanation;
    }
}

function updateScore(){
    const scoreEl = document.getElementById('score');
    scoreEl.textContent = `Score: ${score}`;
    scoreEl.classList.remove('hidden');
}

function totalScore(){
    let total = 0;
    activities.forEach(a=>{
        total += a.questions.length*10;
    });
    return total;
}

// Confetti
function launchConfetti() {
    const confettiContainer = document.getElementById('confetti');
    for(let i=0;i<100;i++){
        let piece = document.createElement('div');
        piece.className = 'confetti-piece';
        piece.style.left = Math.random()*100 + 'vw';
        piece.style.top = Math.random()*100 + 'vh';
        piece.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 70%)`;
        confettiContainer.appendChild(piece);
    }
    setTimeout(()=>{confettiContainer.innerHTML='';},3000);
}

// Add floating book & paper plane icons
const iconsContainer = document.getElementById('icons');
const iconSymbols = ['üìö','üìù','‚úàÔ∏è'];
for(let i=0;i<20;i++){
    let span = document.createElement('span');
    span.className = 'icon';
    span.style.left = Math.random()*100 + 'vw';
    span.style.top = Math.random()*100 + 'vh';
    span.style.fontSize = 16 + Math.random()*24 + 'px';
    span.style.animationDuration = 3 + Math.random()*3 + 's';
    span.innerText = iconSymbols[Math.floor(Math.random()*iconSymbols.length)];
    iconsContainer.appendChild(span);
}
</script>

</body>
</html>
